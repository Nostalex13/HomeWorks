"use strict";window.onload=function(){function e(e,t){var r=this;this.currentValue=1,this.list=e.querySelector("ul"),this.sliderLength=e.querySelectorAll("ul li").length,this.itemWidth=300,this.currentPos=0,function(){var e=r.sliderLength*r.itemWidth;r.list.style.width=e+"px"}(),function(){for(var e="dist/images/sliders/slider"+t+"/",n=r.list.querySelectorAll("li"),i=0;i<n.length;i++){var l=e+"howIt"+t+"."+(i+1)+".png";n[i].style.backgroundImage="url("+l+")"}}(),function(){e.querySelector(".slider__arrowL").addEventListener("click",function(){if(1==r.currentValue)return r.currentValue=r.sliderLength,r.currentPos-=r.itemWidth*(r.sliderLength-1),r.list.style.left=r.currentPos+"px",this;r.currentPos+=r.itemWidth,r.list.style.left=r.currentPos+"px",r.currentValue--})}(),function(){e.querySelector(".slider__arrowR").addEventListener("click",function(){if(r.currentValue==r.sliderLength)return r.currentValue=1,r.currentPos+=r.itemWidth*(r.sliderLength-1),r.list.style.left=r.currentPos+"px",this;r.currentPos-=r.itemWidth,r.list.style.left=r.currentPos+"px",r.currentValue++})}()}function t(e){if(!r(e))return!1;var t=document.querySelector(".grid"),n=document.getElementById("grid").innerHTML,i=e.hits.map(function(e){return e.webformatURL}),l=tmpl(n,{data:i});t.innerHTML=l,imagesLoaded(t,function(){new Masonry(t,{itemSelector:".grid__img",columnWidth:".columnWidth",gutter:20,percentPosition:!0})})}function r(e){function t(e){var t=document.createElement("p");return t.classList.add("noResults"),t.innerText="Sorry, no results found",e.appendChild(t),!0}function r(e){if(e.childNodes.length){var t=e.lastChild;do{e.removeChild(t),t=e.lastChild}while(t);return!0}return!1}return function(e){var n=document.querySelector(".grid");if(e.total)return r(n),!0;if(n.childNodes.length>1){r(n),t(n);new Masonry(n,{itemSelector:".grid__img",columnWidth:".columnWidth",gutter:20,percentPosition:!0})}else 1!=n.childNodes.length&&t(n);return!1}(e)}function n(){var e=void 0;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e||"undefined"==typeof XMLHttpRequest||(e=new XMLHttpRequest),e}function i(e){var r=n();r.open("POST","https://pixabay.com/api/?key=4845683-933d895de826e8c128c7c84b3&per_page=7&q="+e,!0),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?t(JSON.parse(r.responseText)):console.log("No access bla bla. Slow down please"))},r.send(null)}function l(){var e=document.querySelector(".activity-search__input");e.value&&i(e.value)}for(var o=document.querySelectorAll("a"),c=0;c<o.length;c++)o[c].onclick=function(){return!1};for(var u=document.querySelectorAll(".slider"),s=0;s<u.length;s++){var a=document.createElement("p"),d=document.createElement("p");a.classList.add("slider__arrowR"),d.classList.add("slider__arrowL"),u[s].appendChild(d),u[s].appendChild(a),new e(u[s],s+1)}!function(){var e=["Sport and Activity","Wellnes and Health","Extreme  Sports and Expeditions","Games","Culture and Edution","Les Paul","Relaxation","Travelling"];i(e[Math.floor(Math.random()*e.length)])}(),document.querySelector(".activity-search__btn").addEventListener("click",l),document.querySelector(".activity-search__input").addEventListener("keydown",function(e){13==e.keyCode&&(e.preventDefault(),l())})};